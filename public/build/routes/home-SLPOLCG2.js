import{a as M,b as C,c as P,e as U,f as A}from"/build/_shared/chunk-PEGM2EDG.js";import{a as _}from"/build/_shared/chunk-5HMOD2E3.js";import{a as Z}from"/build/_shared/chunk-3RGK6QCO.js";import{a as L,c as R,e as Q,l as D,n as J}from"/build/_shared/chunk-DLPA6FWQ.js";import{a as z}from"/build/_shared/chunk-BARSUFJY.js";import"/build/_shared/chunk-J5FUJS46.js";import{a as p,d as T,g as i,k as S,p as m}from"/build/_shared/chunk-CU65WYAZ.js";import{c as s}from"/build/_shared/chunk-Q3IECNXJ.js";var K=s(p(),1);var d=s(m(),1);function ee({setIsOpened:o}){return(0,d.jsxs)("div",{className:"fixed left-1/2 bottom-10 transform -translate-x-1/2 w-11/12 md:w-2/3 bg-indigo-600 text-white p-6 rounded-lg shadow-lg flex max-lg:flex-col max-lg:space-y-3 justify-between items-center",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsxs)("div",{className:"relative flex items-center justify-center",children:[(0,d.jsx)("div",{className:"absolute h-12 w-12 rounded-full bg-yellow-300 animate-ping"}),(0,d.jsx)("div",{className:"rounded-full bg-yellow-100 p-2",children:(0,d.jsx)(P,{className:"h-8 w-8 text-yellow-500"})})]}),(0,d.jsxs)("div",{className:"ml-4",children:[(0,d.jsx)("h2",{className:"font-bold text-xl",children:"You haven't answered today's question!"}),(0,d.jsx)("p",{className:"text-md text-indigo-200",children:"Answer the question now to earn points and rewards."})]})]}),(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(i,{to:"/dailyQuestion",className:"bg-yellow-500 hover:bg-yellow-600 text-indigo-800 font-semibold px-4 py-2 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2",children:"Answer Now"}),(0,d.jsx)("button",{onClick:()=>o(!1),className:"ml-4 bg-indigo-500 hover:bg-indigo-700 text-white font-semibold px-4 py-2 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2",children:"Close"})]})]})}var B=ee;var v=s(p(),1);var $=s(p(),1);function j(o){(0,$.useEffect)(()=>{let t=n=>{n.key==="Escape"&&o()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)})}var b=s(p(),1);function H(o,t){let[n,r]=(0,b.useState)(o);return(0,b.useEffect)(()=>{let c=setTimeout(()=>{r(o)},t);return()=>{clearTimeout(c)}},[o,t]),n}var w=s(p(),1),g=o=>{let t=(0,w.useRef)(null);return(0,w.useEffect)(()=>{let n=r=>{t.current&&!t.current.contains(r.target)&&o()};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}},[o]),t};var f=s(m(),1);function te(){let o=T(),[t,n]=(0,v.useState)(""),[r,c]=(0,v.useState)(""),[y,h]=(0,v.useState)([]),N=H(t,300),G=g(()=>{h([])});j(()=>h([])),(0,v.useEffect)(()=>{if(!N.trim()){h([]);return}(async()=>{try{let l=await fetch(`/api/suggestions?q=${encodeURIComponent(N)}`);if(!l.ok)throw new Error("Failed to fetch suggestions!");let X=await l.json();h(X.users)}catch{h([])}})()},[N]);function k(l){if(!l.trim()){c("Please enter a valid username!");return}c(""),o(`/user/${l.toLowerCase()}`)}return(0,f.jsxs)("div",{className:"relative w-60 flex justify-center",children:[(0,f.jsxs)("div",{className:"flex",children:[(0,f.jsx)("input",{type:"text",name:"user",value:t,onChange:l=>{l.preventDefault(),n(l.target.value),c("")},onKeyDown:l=>{l.key==="Enter"&&k(t)},placeholder:"Search for a user",className:"w-1/7 px-2 py-1 border border-gray-300 rounded focus:border-indigo-500 focus:outline-none focus:ring-0"}),(0,f.jsx)("button",{onClick:()=>k(t),className:"ml-2 px-4 py-1 bg-indigo-500 text-white rounded hover:bg-indigo-600",children:"Search"})]}),r&&(0,f.jsx)("p",{className:"text-red-600 mt-1",children:r}),(0,f.jsx)("ul",{className:"absolute z-10 w-full mt-10 right-12 max-h-60 overflow-y-scroll",children:y.map(l=>(0,f.jsx)("li",{ref:G,className:"bg-white border border-gray-100",children:(0,f.jsx)("button",{onClick:()=>k(l.username),className:"w-full text-left px-4 py-2 hover:bg-gray-200",children:l.username})},l.username))})]})}var q=te;var V=s(J(),1),ae=s(_(),1),ie=s(Z(),1);var O=s(p(),1);var F=s(p(),1);var a=s(m(),1);function oe({user:o,className:t}){let[n,r]=(0,F.useState)(!1),c=g(()=>{r(!1)});return(0,a.jsxs)("div",{className:`${t} cursor-pointer rounded-full flex justify-center items-center space-x-10 z-10`,children:[(0,a.jsx)(i,{to:"/myProfile",children:o.username.toUpperCase()}),(0,a.jsxs)("div",{className:"relative",ref:c,children:[(0,a.jsxs)("button",{onClick:()=>r(!n),className:"hover:text-indigo-700 font-bold flex items-center space-x-2",children:[(0,a.jsxs)("span",{children:[o.points," points"]}),(0,a.jsx)("span",{children:"|"}),(0,a.jsx)("span",{children:o.coins}),(0,a.jsx)(L,{className:"size-5"})]}),n&&(0,a.jsx)("div",{className:"absolute w-max left-0 mt-2 p-6 bg-white shadow-lg rounded-xl",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Points:"})," ",o.points.toFixed(1)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Thinkies:"})," ",o.coins]}),(0,a.jsx)("button",{className:"bg-indigo-500 hover:bg-indigo-600 text-white px-3 py-1.5 rounded-lg shadow-lg text-lg items-center",children:(0,a.jsxs)(i,{to:"/withdraw",className:"flex gap-x-3",children:[(0,a.jsx)(L,{className:"size-5"}),(0,a.jsx)(R,{className:"size-5"}),(0,a.jsx)(Q,{className:"size-5"})]})})]})})]})]})}var E=oe;var W=s(p(),1);var x=s(m(),1);function se(){let[o,t]=(0,W.useState)(!1),n=g(()=>t(!1));return(0,x.jsxs)("div",{className:"relative mt-1",ref:n,children:[(0,x.jsx)("button",{onClick:()=>t(!o),children:(0,x.jsx)(D,{className:"size-6 text-red-500"})}),o&&(0,x.jsx)("div",{className:"absolute w-max -right-7 mt-2 p-4 bg-white shadow-lg rounded-xl",children:(0,x.jsx)("form",{action:"/logout",method:"post",children:(0,x.jsx)("button",{type:"submit",className:"font-bold hover:text-red-500",children:"Logout"})})})]})}var I=se;var e=s(m(),1);function ne({user:o}){let[t,n]=(0,O.useState)(!1),[r,c]=(0,O.useState)(!1),y=g(()=>n(!1));return(0,e.jsxs)("nav",{className:"bg-gradient-to-r from-gray-200 via-gray-100 to-white shadow-md px-6 py-4 rounded-lg",children:[(0,e.jsxs)("div",{className:"max-w-screen-xl mx-auto flex items-center justify-between",children:[(0,e.jsx)(i,{to:"/home",className:"text-indigo-400 text-2xl font-extrabold tracking-wide",children:"Quick Think"}),(0,e.jsx)("button",{className:"lg:hidden text-gray-900",onClick:()=>c(!r),children:r?(0,e.jsx)(U,{className:"size-8"}):(0,e.jsx)(M,{className:"size-8"})}),(0,e.jsxs)("div",{className:"hidden lg:flex items-center space-x-20",children:[(0,e.jsx)(i,{to:"/dailyQuestion",className:"text-gray-900 hover:text-indigo-400 text-lg font-medium transition",children:"Today's Question"}),(0,e.jsx)(i,{to:"/thinkPass",className:"text-gray-900 hover:text-indigo-400 text-lg font-medium transition",children:"ThinkPass"}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsxs)("button",{onClick:()=>n(!t),className:"py-2 px-4 text-gray-900 hover:text-indigo-400 text-lg font-medium flex items-center transition",children:[(0,e.jsx)("span",{children:"Leaderboards"}),(0,e.jsx)(C,{className:`size-5 text-indigo-400 ml-2 transition-transform ${t?"rotate-180":""}`})]}),(0,e.jsx)("div",{className:`absolute left-0 w-48 mt-2 bg-gray-100 text-gray-900 shadow-lg rounded-xl z-10 ${t?"block":"hidden"}`,ref:y,children:(0,e.jsxs)("div",{className:"flex flex-col text-center py-2",children:[(0,e.jsx)(i,{to:"/leaderboards/all-time",className:"py-2 hover:bg-gray-200 hover:text-indigo-400 rounded transition",children:"All Time"}),(0,e.jsx)(i,{to:"/leaderboards/monthly",className:"py-2 hover:bg-gray-200 hover:text-indigo-400 rounded transition",children:"Monthly"}),(0,e.jsx)(i,{to:"/leaderboards/weekly",className:"py-2 hover:bg-gray-200 hover:text-indigo-400 rounded transition",children:"Weekly"})]})})]})]}),(0,e.jsxs)("div",{className:"hidden lg:flex items-center space-x-4",children:[(0,e.jsx)(E,{user:o}),(0,e.jsx)(I,{})]})]}),r&&(0,e.jsxs)("div",{className:"lg:hidden flex flex-col mt-4 space-y-4 bg-gray-100 p-4 rounded-lg shadow-lg items-center",children:[(0,e.jsx)(i,{to:"/dailyQuestion",className:"block text-gray-900 hover:text-indigo-400 text-lg font-medium transition",children:"Today's Question"}),(0,e.jsx)(i,{to:"/thinkPass",className:"block text-gray-900 hover:text-indigo-400 text-lg font-medium transition",children:"ThinkPass"}),(0,e.jsxs)("div",{className:"relative flex flex-col items-center ml-4",children:[(0,e.jsxs)("button",{onClick:()=>n(!t),className:"w-full text-left py-2 text-gray-900 hover:text-indigo-400 text-lg font-medium flex items-center transition",children:[(0,e.jsx)("span",{children:"Leaderboards"}),(0,e.jsx)(C,{className:`size-5 text-indigo-400 ml-2 transition-transform ${t?"rotate-180":""}`})]}),t&&(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(i,{to:"/leaderboards/all-time",className:"block py-2 hover:bg-gray-200 hover:text-indigo-400 rounded transition",children:"All Time"}),(0,e.jsx)(i,{to:"/leaderboards/monthly",className:"block py-2 hover:bg-gray-200 hover:text-indigo-400 rounded transition",children:"Monthly"}),(0,e.jsx)(i,{to:"/leaderboards/weekly",className:"block py-2 hover:bg-gray-200 hover:text-indigo-400 rounded transition",children:"Weekly"})]})]}),(0,e.jsxs)("div",{className:"flex mt-4 max-lg: space-x-4",children:[(0,e.jsx)(E,{user:o}),(0,e.jsx)(I,{})]})]})]})}var Y=ne;var u=s(m(),1);function re(){let{user:o,hasUserAnsweredTodaysQuestion:t,userStreak:n}=S(),[r,c]=(0,K.useState)(!t),y=A(n);return(0,u.jsxs)(z,{children:[(0,u.jsx)(Y,{user:o}),(0,u.jsxs)("div",{className:"mt-14 flex flex-col items-center space-y-10",children:[y&&(0,u.jsxs)("div",{className:"w-full max-w-3xl bg-indigo-600 text-center text-white p-2 lg:p-6 rounded-lg shadow-lg",children:[(0,u.jsxs)("h2",{className:"text-2xl font-bold",children:["\u{1F525}",n.streak," Day",n.streak>1?"s":""," ","Streak!"]}),(0,u.jsx)("p",{className:"mt-2 text-lg",children:t?"Great job! You've answered today's question. Keep the streak alive tomorrow!":"Don't lose your streak! Answer today's question to keep it going."})]}),(0,u.jsx)("div",{className:"flex w-full justify-center max-w-3xl",children:(0,u.jsx)(q,{})}),r&&(0,u.jsx)(B,{setIsOpened:c})]})]})}var le=re;export{le as default};
