import{d as F,f as R}from"/build/_shared/chunk-PEGM2EDG.js";import{a as P}from"/build/_shared/chunk-5HMOD2E3.js";import{a as H}from"/build/_shared/chunk-3RGK6QCO.js";import{a as D}from"/build/_shared/chunk-GDYDJZ4T.js";import{n as z}from"/build/_shared/chunk-DLPA6FWQ.js";import{a as I}from"/build/_shared/chunk-BARSUFJY.js";import"/build/_shared/chunk-J5FUJS46.js";import{a as N,g as C,k as q,m as T,p as i}from"/build/_shared/chunk-CU65WYAZ.js";import{c as o}from"/build/_shared/chunk-Q3IECNXJ.js";var A=o(N(),1);var g=o(i(),1);function W({question:t,answer:e,handleAnswerChange:r,handleSubmit:d,isSubmitting:s}){return(0,g.jsxs)("div",{className:"bg-gray-700 p-8 rounded-xl shadow-md text-center max-w-2xl mx-auto",children:[(0,g.jsx)("h1",{className:"text-3xl font-extrabold text-white mb-6",children:t.title?t.title:"No Question for Today"}),(0,g.jsx)("h2",{className:"text-xl font-light text-gray-300 mb-8",children:t.text}),(0,g.jsxs)("form",{onSubmit:d,className:"flex flex-col gap-6 items-center",children:[(0,g.jsx)("input",{type:"text",value:e,onChange:m=>r(m.target.value),placeholder:"Type your answer here...",className:"w-full max-w-md p-4 bg-gray-800 text-white rounded-lg shadow-lg focus:outline-none focus:ring-4 focus:ring-indigo-500 transition"}),(0,g.jsx)("button",{type:"submit",disabled:s,className:`bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white py-3 px-8 rounded-full text-lg font-semibold shadow-md hover:shadow-lg hover:opacity-90 focus:outline-none focus:ring-8 focus:ring-indigo-500 transition ${s&&"cursor-not-allowed"}`,children:s&&e!==""?"Submitting...":"Submit"})]})]})}var B=W;var h=o(i(),1);function G({data:t}){return(0,h.jsxs)("div",{className:"bg-gray-700 p-8 rounded-xl shadow-md w-full mt-10",children:[(0,h.jsx)("h2",{className:"text-2xl font-semibold text-gray-200",children:"All User's Answers"}),(0,h.jsx)("ul",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.question.answers.map(e=>(0,h.jsx)("li",{className:"bg-gray-800 p-4 rounded-lg shadow-lg text-gray-300 text-xl font-semibold",children:e.answer},e.id))})]})}var L=G;var c=o(i(),1);function K({handleModalClose:t}){return(0,c.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center pt-10 z-50",children:(0,c.jsxs)("div",{className:"flex flex-col bg-white rounded-lg p-6 shadow-lg text-center items-center justify-center space-y-7 w-3/5 h-1/5",children:[(0,c.jsx)("h2",{className:"text-4xl font-semibold",children:"Congratulations!"}),(0,c.jsxs)("p",{className:"text-gray-600 text-xl",children:["You have submitted your answer! ",(0,c.jsx)("span",{className:"text-3xl",children:"\u{1F64C}"})]}),(0,c.jsx)("button",{onClick:t,className:"bg-indigo-500 text-white text-xl py-2 px-4 rounded-md hover:bg-indigo-600 transition",children:(0,c.jsx)(C,{to:"/home",children:"Close"})})]})})}var O=K;var k=o(N(),1),f=o(i(),1);function J({fetcher:t}){let[e,r]=(0,k.useState)("");(0,k.useEffect)(()=>{r(d());let s=setInterval(()=>{r(d())},1e3);return()=>clearInterval(s)},[]);function d(){let s=new Date,n=new Date(s.getFullYear(),s.getMonth(),s.getDate()+1,0,0,0).getTime()-s.getTime(),w=Math.floor(n/(1e3*60*60)),p=Math.floor(n%(1e3*60*60)/(1e3*60)),y=Math.floor(n%(1e3*60)/1e3),b=String(w).padStart(2,"0"),S=String(p).padStart(2,"0"),v=String(y).padStart(2,"0");return`${b}h ${S}m ${v}s`}return(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"text-gray-400 text-lg",children:"You've already answered today's question. Great job!"}),(0,f.jsxs)("div",{className:"mt-16 flex flex-col items-center space-y-6",children:[(0,f.jsx)("h2",{className:"text-2xl font-semibold text-gray-400 tracking-widest uppercase",children:"Next Question Drops In"}),(0,f.jsx)("p",{className:"flex max-lg:flex-col text-8xl font-extrabold text-white tracking-wider max-md:w-20 items-center justify-center",children:e}),(0,f.jsx)("div",{className:"h-2 w-64 bg-gradient-to-r from-indigo-400 via-purple-500 to-pink-500 rounded-full animate-pulse"})]})]})}var U=J;var Y=o(N(),1),a=o(i(),1);function V({fetcher:t,messages:e,currentUser:r}){let[d,s]=(0,Y.useState)("");function m(n){n.preventDefault(),d&&(t.submit({message:d},{method:"post",action:"/api/chat"}),s(""))}return(0,a.jsxs)("div",{className:"mt-16 w-full max-w-3xl bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("h3",{className:"text-xl font-bold text-white text-center",children:"Community Chat"})}),(0,a.jsxs)("div",{className:"h-64 overflow-y-auto bg-gray-900 rounded-lg p-4 space-y-4 shadow-inner",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"h-10 w-10 bg-purple-500 rounded-full flex items-center justify-center",children:"\u{1F451}"}),(0,a.jsx)("div",{className:"bg-indigo-600 p-3 rounded-lg shadow-md",children:(0,a.jsx)("p",{className:"text-white",children:"Cg, now discuss today's question with other users!"})})]}),e&&e.map(n=>n.userId===r?(0,a.jsxs)("div",{className:"flex items-start space-x-4 flex-row-reverse",children:[(0,a.jsx)("div",{className:"h-10 w-10 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:n.username.at(0)}),(0,a.jsx)("div",{className:"bg-indigo-600 p-3 rounded-lg shadow-md",children:(0,a.jsx)("p",{className:"text-white",children:n.message})})]},n.message):(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsxs)("div",{className:"h-10 w-10 bg-indigo-500 rounded-full flex items-center justify-center text-white font-bold",children:[n.username.at(0),n.unlockedRewards>=7&&"\u{1F451}"]}),(0,a.jsx)("div",{className:`${n.unlockedRewards>=8?"bg-pink-500 animate-pulse":"bg-gray-800"} p-3 rounded-lg shadow-md`,children:(0,a.jsx)("p",{className:"text-white",children:n.message})})]},n.message))]}),(0,a.jsxs)("form",{onSubmit:m,className:"mt-4 flex items-center space-x-4",children:[(0,a.jsx)("input",{type:"text",value:d,onChange:n=>s(n.target.value),placeholder:"Type your message...",className:"w-full bg-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75"}),(0,a.jsx)("button",{type:"submit",disabled:!d,className:`bg-indigo-600 text-white py-2 px-4 rounded-lg shadow-md hover:bg-indigo-700 transition duration-200 ${!d&&"cursor-not-allowed"}`,children:"Send"})]})]})}var $=V;var l=o(i(),1);function X({data:t,fetcher:e}){let[r,d]=(0,A.useState)(""),[s,m]=(0,A.useState)(!1),[n,w]=(0,A.useState)(!1);function p(){m(!0)}function y(){m(!1)}function b(v){d(v)}function S(v){v.preventDefault(),e.submit({answer:r},{method:"post",action:"/api/answers"}),r&&(w(!0),p())}return(0,l.jsxs)("div",{className:"text-center mt-10",children:[(0,l.jsx)("h1",{className:"font-bold text-4xl mb-10 text-white",children:"Today's question"}),t.noQuestion?(0,l.jsx)("p",{className:"text-gray-400 text-lg",children:"No question for today... Come back tomorrow!"}):t.hasAlreadyAnswered?(0,l.jsx)(U,{fetcher:e}):(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)(B,{question:t.question,answer:r,handleAnswerChange:b,handleSubmit:S,isSubmitting:n})}),t.question?.answers?.length>0&&t.hasAlreadyAnswered&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(L,{data:t}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)($,{fetcher:e,messages:t.questionMessages,currentUser:t.userId})})]}),e.data?.success&&s&&(0,l.jsx)(O,{handleModalClose:y}),e.data?.error&&(0,l.jsx)("p",{className:"text-red-500 text-lg mt-4",children:e.data.error})]})}var j=X;var Q=o(N(),1),u=o(i(),1);function Z({streak:t,hasAlreadyAnswered:e}){let r=["bg-gradient-to-r from-yellow-500 via-red-500 to-orange-500","bg-gradient-to-r from-purple-500 via-pink-500 to-red-500","bg-gradient-to-r from-green-400 via-blue-500 to-purple-500","bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500","bg-gradient-to-r from-cyan-400 via-teal-500 to-green-500"],[d,s]=(0,Q.useState)(r[Math.floor(Math.random()*r.length)]),[m,n]=(0,Q.useState)(!0),w=()=>{let p=r.filter(b=>b!==d),y=p[Math.floor(Math.random()*p.length)];s(y)};return m&&(0,u.jsxs)("div",{className:`fixed left-1/2 bottom-10 transform -translate-x-1/2 w-11/12 md:w-2/3 text-white p-6 rounded-lg shadow-lg flex justify-between items-center animate-bounce-once ${d}`,children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsxs)("button",{onClick:()=>n(!1),className:"relative flex items-center justify-center",children:[(0,u.jsx)("div",{className:"absolute h-14 w-14 rounded-full bg-yellow-300 animate-ping"}),(0,u.jsx)("div",{className:"rounded-full bg-yellow-100 p-3 flex items-center justify-center",children:(0,u.jsx)(F,{className:"h-8 w-8 text-yellow-500"})})]}),(0,u.jsxs)("div",{className:"ml-6",children:[(0,u.jsxs)("h2",{className:"font-bold text-3xl tracking-wide",children:["\u{1F525}",t," Day",t>1?"s":""," Streak!"]}),!e&&(0,u.jsx)("p",{className:"text-lg text-yellow-100 mt-2",children:"Keep it going! Answer the question now to maintain your streak and earn rewards."})]})]}),!e&&(0,u.jsx)("button",{onClick:w,className:"bg-white text-orange-600 py-4 px-4 rounded-full font-bold text-xl shadow-lg hover:bg-yellow-200 transition duration-200",children:"\u{1F680}"})]})}var E=Z;var _=o(z(),1),M=o(P(),1),ee=o(H(),1),x=o(i(),1),te=()=>[{title:"Daily Question - Quick Think"},{name:"description",content:"Your daily question to make you think hard and earn point"},{name:"keywords",content:"question, quiz, challenge, trivia"},{property:"og:title",content:"Daily Question - Quick Think"},{property:"og:description",content:"Your daily question to make you think hard and earn point"}];function oe(){let t=T(),e=q(),r=R(e.userStreak);return(0,x.jsxs)(I,{children:[(0,x.jsx)(D,{}),(0,x.jsx)(j,{data:e,fetcher:t}),r&&(0,x.jsx)(E,{streak:e.userStreak.streak,hasAlreadyAnswered:e.hasAlreadyAnswered})]})}var ne=oe;export{ne as default,te as meta};
